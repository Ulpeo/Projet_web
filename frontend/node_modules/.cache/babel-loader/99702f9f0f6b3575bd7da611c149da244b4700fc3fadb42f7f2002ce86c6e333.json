{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emmam\\\\Documents\\\\ECE Paris\\\\ING4\\\\TechnoWeb\\\\Projet_web\\\\frontend\\\\src\\\\home\\\\meteo.js\";\nimport './meteo.css';\nimport React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Meteo() {\n  function searchWeather(city) {\n    console.info(city);\n    // Création de l'objet apiWeather\n    const apiWeather = new API_WEATHER(city);\n    // Appel de la fonction fetchTodayForecast\n\n    apiWeather.fetchTodayForecast().then(function (response) {\n      // Récupère la donnée d'une API\n      const data = response.data.list;\n      for (let i = 0; i < 4; i++) {\n        // On récupère l'information principal\n        const main = data[i].weather[0].main;\n        const description = data[i].weather[0].description;\n        const temp = data[i].temp.day;\n        const icon = apiWeather.getHTMLElementFromIcon(data[i].weather[0].icon);\n\n        // Modifier le DOM\n        document.getElementById(`day${i}-forecast-main`).innerHTML = main;\n        document.getElementById(`day${i}-forecast-more-info`).innerHTML = description;\n        document.getElementById(`day${i}-icon-weather-container`).innerHTML = icon;\n        document.getElementById(`day${i}-forecast-temp`).innerHTML = `${temp}°C`;\n      }\n    }).catch(function (error) {\n      // Affiche une erreur\n      console.error(error);\n    });\n  }\n  searchWeather(\"brest\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"meteo\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"alata\",\n      children: \"M\\xE9t\\xE9o \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"day0-forecast-main\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"day0-forecast-more-info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"day0-forecast-temp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n// Clé api\n_c = Meteo;\nconst API_KEY = \"4081444b7b90198136fefe6ed4ccf35b\";\n// Url API\nconst API_URL = \"https://api.openweathermap.org/data/2.5/forecast/daily\";\n// Base source icon\nconst API_URL_ICON = \"http://openweathermap.org/img/wn/\";\nclass API_WEATHER {\n  constructor(city) {\n    // Si la ville n'est pas définit alors la ville par défault est Paris\n    if (city === undefined) {\n      city = \"brest\";\n    }\n    this.city = city;\n  }\n\n  // Faire la requete à l'API openweathermap\n  // Retourne une promise\n  fetchTodayForecast() {\n    return axios.get(`${API_URL}?q=${this.city}&cnt=4&units=metric&appid=${API_KEY}`, {\n      crossdomain: true\n    });\n  }\n\n  // Retourne l'element HTML de l'icon symbolisant la méteo.\n  getHTMLElementFromIcon(icon) {\n    return `<img src=${API_URL_ICON}${icon}@2x.png class=\"weather-icon\"/>`;\n  }\n}\nexport default Meteo;\nvar _c;\n$RefreshReg$(_c, \"Meteo\");","map":{"version":3,"names":["React","useEffect","axios","Meteo","searchWeather","city","console","info","apiWeather","API_WEATHER","fetchTodayForecast","then","response","data","list","i","main","weather","description","temp","day","icon","getHTMLElementFromIcon","document","getElementById","innerHTML","catch","error","API_KEY","API_URL","API_URL_ICON","constructor","undefined","get","crossdomain"],"sources":["C:/Users/emmam/Documents/ECE Paris/ING4/TechnoWeb/Projet_web/frontend/src/home/meteo.js"],"sourcesContent":["import './meteo.css';\r\nimport React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nfunction Meteo() {\r\n\r\n    function searchWeather(city) {\r\n        console.info(city)\r\n        // Création de l'objet apiWeather\r\n        const apiWeather = new API_WEATHER(city);\r\n        // Appel de la fonction fetchTodayForecast\r\n      \r\n        apiWeather\r\n          .fetchTodayForecast()\r\n          .then(function (response) {\r\n            // Récupère la donnée d'une API\r\n            const data = response.data.list;\r\n      \r\n            for (let i = 0; i < 4; i++) {\r\n              // On récupère l'information principal\r\n              const main = data[i].weather[0].main;\r\n              const description = data[i].weather[0].description;\r\n              const temp = data[i].temp.day;\r\n              const icon = apiWeather.getHTMLElementFromIcon(data[i].weather[0].icon);\r\n      \r\n              // Modifier le DOM\r\n              document.getElementById(`day${i}-forecast-main`).innerHTML = main;\r\n              document.getElementById(`day${i}-forecast-more-info`).innerHTML = description;\r\n              document.getElementById(`day${i}-icon-weather-container`).innerHTML = icon;\r\n              document.getElementById(`day${i}-forecast-temp`).innerHTML = `${temp}°C`;\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            // Affiche une erreur\r\n            console.error(error);\r\n          });\r\n      }\r\n      searchWeather(\"brest\");\r\n    return (\r\n        <div className=\"meteo\" >\r\n            \r\n            <h2 className=\"alata\">Météo </h2>\r\n            <div id='day0-forecast-main'></div>\r\n            <div id='day0-forecast-more-info'></div>\r\n            \r\n            <div id='day0-forecast-temp'></div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n// Clé api\r\nconst API_KEY = \"4081444b7b90198136fefe6ed4ccf35b\";\r\n// Url API\r\nconst API_URL = \"https://api.openweathermap.org/data/2.5/forecast/daily\";\r\n// Base source icon\r\nconst API_URL_ICON = \"http://openweathermap.org/img/wn/\";\r\n\r\n\r\nclass API_WEATHER {\r\n  constructor(city) {\r\n    // Si la ville n'est pas définit alors la ville par défault est Paris\r\n    if (city === undefined) {\r\n      city = \"brest\";\r\n    }\r\n    this.city = city;\r\n  }\r\n\r\n  // Faire la requete à l'API openweathermap\r\n  // Retourne une promise\r\n  fetchTodayForecast() {\r\n    return axios\r\n      .get(`${API_URL}?q=${this.city}&cnt=4&units=metric&appid=${API_KEY}`, {\r\n        crossdomain: true\r\n      })\r\n  }\r\n\r\n  // Retourne l'element HTML de l'icon symbolisant la méteo.\r\n  getHTMLElementFromIcon(icon) {\r\n    return `<img src=${API_URL_ICON}${icon}@2x.png class=\"weather-icon\"/>`\r\n  }\r\n}\r\n\r\nexport default Meteo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}